import React, { useContext } from "react"
import { Link } from "react-router-dom"
import { CartContext } from "../../context/CartContext"
import "./CartWidget.css"

const CartWidget = () => {
    const { cart } = useContext(CartContext)

    let cant = 0;

    for (let i = 0; i < cart.length; i++){
        cant = cant + cart[i].cantidad;
    }

    return (
        <div>
            { cart.length === 0 ? 
                <Link to='/cart'>
                <div className='cart-widget'>
                <div className='cart-number'>
                {cant}
                </div>
                <img src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjUxMnB0IiB2aWV3Qm94PSIwIC0zMSA1MTIuMDAwMjYgNTEyIiB3aWR0aD0iNTEycHQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0ibTE2NC45NjA5MzggMzAwLjAwMzkwNmguMDIzNDM3Yy4wMTk1MzEgMCAuMDM5MDYzLS4wMDM5MDYuMDU4NTk0LS4wMDM5MDZoMjcxLjk1NzAzMWM2LjY5NTMxMiAwIDEyLjU4MjAzMS00LjQ0MTQwNiAxNC40MjE4NzUtMTAuODc4OTA2bDYwLTIxMGMxLjI5Mjk2OS00LjUyNzM0NC4zODY3MTktOS4zOTQ1MzItMi40NDUzMTMtMTMuMTUyMzQ0LTIuODM1OTM3LTMuNzU3ODEyLTcuMjY5NTMxLTUuOTY4NzUtMTEuOTc2NTYyLTUuOTY4NzVoLTM2Ni42MzI4MTJsLTEwLjcyMjY1Ny00OC4yNTM5MDZjLTEuNTI3MzQzLTYuODYzMjgyLTcuNjEzMjgxLTExLjc0NjA5NC0xNC42NDQ1MzEtMTEuNzQ2MDk0aC05MGMtOC4yODUxNTYgMC0xNSA2LjcxNDg0NC0xNSAxNXM2LjcxNDg0NCAxNSAxNSAxNWg3Ny45Njg3NWMxLjg5ODQzOCA4LjU1MDc4MSA1MS4zMTI1IDIzMC45MTc5NjkgNTQuMTU2MjUgMjQzLjcxMDkzOC0xNS45NDE0MDYgNi45Mjk2ODctMjcuMTI1IDIyLjgyNDIxOC0yNy4xMjUgNDEuMjg5MDYyIDAgMjQuODEyNSAyMC4xODc1IDQ1IDQ1IDQ1aDI3MmM4LjI4NTE1NiAwIDE1LTYuNzE0ODQ0IDE1LTE1cy02LjcxNDg0NC0xNS0xNS0xNWgtMjcyYy04LjI2OTUzMSAwLTE1LTYuNzMwNDY5LTE1LTE1IDAtOC4yNTc4MTIgNi43MDcwMzEtMTQuOTc2NTYyIDE0Ljk2MDkzOC0xNC45OTYwOTR6bTMxMi4xNTIzNDMtMjEwLjAwMzkwNi01MS40Mjk2ODcgMTgwaC0yNDguNjUyMzQ0bC00MC0xODB6bTAgMCIvPjxwYXRoIGQ9Im0xNTAgNDA1YzAgMjQuODEyNSAyMC4xODc1IDQ1IDQ1IDQ1czQ1LTIwLjE4NzUgNDUtNDUtMjAuMTg3NS00NS00NS00NS00NSAyMC4xODc1LTQ1IDQ1em00NS0xNWM4LjI2OTUzMSAwIDE1IDYuNzMwNDY5IDE1IDE1cy02LjczMDQ2OSAxNS0xNSAxNS0xNS02LjczMDQ2OS0xNS0xNSA2LjczMDQ2OS0xNSAxNS0xNXptMCAwIi8+PHBhdGggZD0ibTM2MiA0MDVjMCAyNC44MTI1IDIwLjE4NzUgNDUgNDUgNDVzNDUtMjAuMTg3NSA0NS00NS0yMC4xODc1LTQ1LTQ1LTQ1LTQ1IDIwLjE4NzUtNDUgNDV6bTQ1LTE1YzguMjY5NTMxIDAgMTUgNi43MzA0NjkgMTUgMTVzLTYuNzMwNDY5IDE1LTE1IDE1LTE1LTYuNzMwNDY5LTE1LTE1IDYuNzMwNDY5LTE1IDE1LTE1em0wIDAiLz48L3N2Zz4=" alt="Carrito de  compras" className='cart-icon' />
                </div>
                </Link>
                :
                <Link to='/cart'>
                    <div className='cart-widget'>
                <div className='cart-number'>
                    {cant}
                </div>
                <img src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjUxMnB0IiB2aWV3Qm94PSIwIC0zMSA1MTIuMDAwMzMgNTEyIiB3aWR0aD0iNTEycHQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0ibTE2NiAzMDAuMDAzOTA2aDI3MS4wMDM5MDZjNi43MTA5MzggMCAxMi41OTc2NTYtNC40Mzc1IDE0LjQxNDA2My0xMC44ODI4MTJsNjAuMDAzOTA2LTIxMC4wMDM5MDZjMS4yODkwNjMtNC41MjczNDQuNDA2MjUtOS4zOTA2MjYtMi40MzM1OTQtMTMuMTUyMzQ0LTIuODQzNzUtMy43NS03LjI2NTYyNS01Ljk2NDg0NC0xMS45ODQzNzUtNS45NjQ4NDRoLTM2NS42MzI4MTJsLTEwLjcyMjY1Ni00OC4yNWMtMS41MjM0MzgtNi44NzEwOTQtNy42MTcxODgtMTEuNzUtMTQuNjQ4NDM4LTExLjc1aC05MWMtOC4yODkwNjIgMC0xNSA2LjcxMDkzOC0xNSAxNSAwIDguMjkyOTY5IDYuNzEwOTM4IDE1IDE1IDE1aDc4Ljk2MDkzOGw1NC4xNjc5NjggMjQzLjc1Yy0xNS45Mzc1IDYuOTI5Njg4LTI3LjEyODkwNiAyMi43OTI5NjktMjcuMTI4OTA2IDQxLjI1MzkwNiAwIDI0LjgxMjUgMjAuMTg3NSA0NSA0NSA0NWgyNzEuMDAzOTA2YzguMjkyOTY5IDAgMTUtNi43MDcwMzEgMTUtMTUgMC04LjI4OTA2Mi02LjcwNzAzMS0xNS0xNS0xNWgtMjcxLjAwMzkwNmMtOC4yNjE3MTkgMC0xNS02LjcyMjY1Ni0xNS0xNXM2LjczODI4MS0xNSAxNS0xNXptMCAwIi8+PHBhdGggZD0ibTE1MSA0MDUuMDAzOTA2YzAgMjQuODE2NDA2IDIwLjE4NzUgNDUgNDUuMDAzOTA2IDQ1IDI0LjgxMjUgMCA0NS0yMC4xODM1OTQgNDUtNDUgMC0yNC44MTI1LTIwLjE4NzUtNDUtNDUtNDUtMjQuODE2NDA2IDAtNDUuMDAzOTA2IDIwLjE4NzUtNDUuMDAzOTA2IDQ1em0wIDAiLz48cGF0aCBkPSJtMzYyLjAwMzkwNiA0MDUuMDAzOTA2YzAgMjQuODE2NDA2IDIwLjE4NzUgNDUgNDUgNDUgMjQuODE2NDA2IDAgNDUtMjAuMTgzNTk0IDQ1LTQ1IDAtMjQuODEyNS0yMC4xODM1OTQtNDUtNDUtNDUtMjQuODEyNSAwLTQ1IDIwLjE4NzUtNDUgNDV6bTAgMCIvPjwvc3ZnPg==" alt="Carrito de  compras" className='cart-icon' />
                </div>
                </Link>
            }
        </div>
    );
}

export default CartWidget